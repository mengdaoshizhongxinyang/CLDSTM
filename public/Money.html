<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        canvas {
            width: 400px;
            height: 800px;
        }

        .css-test {
            color: black;
            font-weight: bold;
            background: linear-gradient(90deg, red, orange, yellow, green, blue, purple);
            background-clip: text;
            -webkit-background-clip: text;
        }

        .css-test:hover {
            color: transparent;
            transition: 300ms ease;
        }
    </style>
</head>

<body>
    <div class="css-test">一个css的记录</div>
    <button id="start">qids</button>
    <canvas id="money"></canvas>
    <script>
        function Money() {
            Command = function (moveL = 'ArrowLeft', moveR = 'ArrowRight', absorbC = 'a', freedC = 's') {

                var moveL = moveL,
                    moveR = moveR,
                    absorbC = absorbC,
                    freedC = freedC,

                    optionsSetting = {}
                this.init = function () {
                    optionsSetting[moveL] = moveLeft
                    optionsSetting[moveR] = moveRight
                    optionsSetting[absorbC] = absorbCoins
                    optionsSetting[freedC] = freedCoins
                }

                function moveLeft() {
                    console.log('left')
                }

                function moveRight() {
                    console.log('right')
                }

                function absorbCoins() {
                    console.log('a')
                }

                function freedCoins() {
                    console.log('s')
                }
                this.options = function (key) {
                    if (optionsSetting[key]) {
                        optionsSetting[key]()
                    }
                }
                this.getStting = function () {
                    return {
                        arrowLeft: moveL,
                        arrowRight: moveR,
                        absorbCoins: absorbC,
                        freedCoins: freedC
                    }
                }
                this.setOptions = function (moveL = 'ArrowLeft', moveR = 'ArrowRight', absorbC = 'a', freedC =
                    's') {
                    optionsSetting = {}
                    optionsSetting[moveL] = moveLeft
                    optionsSetting[moveR] = moveRight
                    optionsSetting[absorbC] = absorbCoins
                    optionsSetting[freedC] = freedCoins
                }
            }

            CoinsMatrix = function (layers = 5) {
                this.layers = layers
            }
            var canvas
            var context
            var coins = []
            var process
            var command = new Command()
            this.init = function () {
                canvas = document.getElementById('money');
                canvas.width=400
                canvas.height=800
                command.init()
                if (canvas) {
                    context = canvas.getContext('2d');
                    canvas.tabIndex = -1
                    canvas.focus()
                    canvas.addEventListener('keydown', handleKeyInput)

                    process = setInterval(loop, 17);
                }
            }
            var handleKeyInput = function (event) {
                command.options(event.key)
            }
            var loop = function () {
                context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath();
                context.fillStyle = '#fa3380';
                context.strokeStyle = 'rgba(2,179,228,0.8)';
                context.arc(25, 25, 25, 0, Math.PI * 2);
                context.fill();
                context.stroke();
            }

        }

        function Coins(x, y, num) {
            this.position = {
                x: x,
                y: y
            };
            this.val = num
        }
        function Coins(x, y, num) {
            this.position = {
                x: x,
                y: y
            };
            this.val = num
        }
        document.getElementById('start').addEventListener('click', function () {
            var money = new Money()
            money.init()
        })
    </script>
</body>

</html>